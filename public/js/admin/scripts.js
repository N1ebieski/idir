function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function fmSetLink(t){$("div.trumbowyg-modal-box").find("input[name=url]").val(t)}$(function(){$(document).trigger("ready"),$(document).trigger("readyAndAjax")}),$(document).ajaxComplete(function(){$(document).trigger("readyAndAjax")}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/actions@enter",function(){$("form").find("input, select").on("keypress",function(t){if(13==t.which)return t.preventDefault(),!1})}),$(window).on("readyAndAjax.n1ebieski/icore/admin/scripts/actions@focusSpellcheck",function(){-1!=navigator.userAgent.indexOf("Firefox")&&$('[spellcheck="true"]:first').focusWithoutScrolling()}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/ban@store",".storeBanModel, .store-banmodel",function(t){t.preventDefault();var e=$(this),a=e.closest(".modal-content").find("form");a.btn=a.find(".btn"),a.input=a.find(".form-control, .custom-control-input");var n={body:a.closest(".modal-body")};$.ajax({url:a.attr("data-route"),method:"post",data:a.serialize(),dataType:"json",beforeSend:function(){e.loader("show"),$(".invalid-feedback").remove(),a.input.removeClass("is-valid"),a.input.removeClass("is-invalid")},complete:function(){e.loader("hide"),a.input.addClass("is-valid")},success:function(t){n.body.html($.getAlert("success",t.success))},error:function(t){t.responseJSON.errors&&$.each(t.responseJSON.errors,function(t,e){a.find("#"+$.escapeSelector(t)).addClass("is-invalid"),a.find("#"+$.escapeSelector(t)).closest(".form-group").append($.getError(t,e))})}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/category@destroy",".destroyCategory, .destroy-category",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"delete",beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="destroyCategory"], [data-btn-ok-class*="destroy-category"]').loader("show")},complete:function(){a.find('[data-btn-ok-class*="destroyCategory"], [data-btn-ok-class*="destroy-category"]').loader("hide")},success:function(t){a.fadeOut("slow"),$.each(t.descendants,function(t,e){var a=$("#row"+e);a.length&&a.fadeOut("slow")})}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/category@updateStatus",".statusCategory, .status-category",function(t){t.preventDefault();var e=$(this),a=e.closest("[id^=row]");a.btnGroup=a.find(".responsive-btn-group"),a.btn0=a.find('button[data-status="0"]'),a.btn1=a.find('button[data-status="1"]'),$.ajax({url:e.data("route"),method:"patch",data:{status:e.data("status")},beforeSend:function(){a.btnGroup.addClass("disabled"),e.loader("show")},success:function(t){e.loader("hide"),1==t.status&&(a.btnGroup.removeClass("disabled"),a.btn1.prop("disabled",!0),a.btn0.attr("disabled",!1),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$.each(t.ancestors,function(t,e){var a=$("#row"+e);a.length&&(a.find('button[data-status="1"]').prop("disabled",!0),a.find('button[data-status="0"]').attr("disabled",!1),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))})),0==t.status&&(a.btnGroup.removeClass("disabled"),a.btn0.prop("disabled",!0),a.btn1.attr("disabled",!1),a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$.each(t.descendants,function(t,e){var a=$("#row"+e);a.length&&(a.find('button[data-status="0"]').prop("disabled",!0),a.find('button[data-status="1"]').attr("disabled",!1),a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))}))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/comment@destroy",".destroyComment, .destroy-comment",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"delete",beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="destroyComment"], [data-btn-ok-class*="destroy-comment"]').loader("show")},complete:function(){a.find('[data-btn-ok-class*="destroyComment"], [data-btn-ok-class*="destroy-comment"]').loader("hide")},success:function(t){a.fadeOut("slow"),$.each(t.descendants,function(t,e){var a=$("#row"+e);a.length&&a.fadeOut("slow")})}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/comment@store",".storeComment, .store-comment",function(t){t.preventDefault();var e=$(this),a=e.closest(".modal-content").find("form");a.btn=a.find(".btn"),a.input=a.find(".form-control"),$.ajax({url:a.data("route"),method:"post",data:a.serialize(),dataType:"json",beforeSend:function(){e.loader("show"),$(".invalid-feedback").remove(),a.input.removeClass("is-valid"),a.input.removeClass("is-invalid")},complete:function(){e.loader("hide"),a.input.addClass("is-valid")},success:function(t){var e=$("#row"+a.data("id"));e.after($.sanitize(t.view));var n=e.next();n.addClass("alert-primary font-italic"),setTimeout(function(){n.removeClassStartingWith("alert-")},5e3),$(".modal").modal("hide")},error:function(t){$.each(t.responseJSON.errors,function(t,e){a.find("#"+$.escapeSelector(t)).addClass("is-invalid"),a.find("#"+$.escapeSelector(t)).after($.getError(t,e))})}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/comment@updateCensored",".censoreComment, .censore-comment",function(t){t.preventDefault();var e=$(this),a=e.closest("[id^=row]");$.ajax({url:e.data("route"),method:"patch",data:{censored:e.data("censored")},beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),e.loader("show")},success:function(t){e.loader("hide"),a.html($.sanitize($(t.view).html())),1==t.censored&&(a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3)),0==t.censored&&(a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/comment@updateStatus",".statusComment, .status-comment",function(t){t.preventDefault();var e=$(this),a=e.closest("[id^=row]");a.btnGroup=a.find(".responsive-btn-group"),a.btn0=a.find('button[data-status="0"]'),a.btn1=a.find('button[data-status="1"]'),$.ajax({url:e.data("route"),method:"patch",data:{status:e.data("status")},beforeSend:function(){a.btnGroup.addClass("disabled"),e.loader("show")},success:function(t){e.loader("hide"),1==t.status&&(a.btnGroup.removeClass("disabled"),a.btn1.prop("disabled",!0),a.btn0.prop("disabled",!1),a.find("button.answer").prop("disabled",!1),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$.each(t.ancestors,function(t,e){var a=$("#row"+e);a.length&&(a.find('button[data-status="1"]').prop("disabled",!0),a.find('button[data-status="0"]').prop("disabled",!1),a.find("button.answer").prop("disabled",!1),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))})),0==t.status&&(a.btnGroup.removeClass("disabled"),a.btn0.prop("disabled",!0),a.btn1.prop("disabled",!1),a.find("button.answer").prop("disabled",!0),a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$.each(t.descendants,function(t,e){var a=$("#row"+e);a.length&&(a.find('button[data-status="0"]').prop("disabled",!0),a.find('button[data-status="1"]').prop("disabled",!1),a.find("button.answer").prop("disabled",!0),a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))}))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@create",".create",function(t){t.preventDefault();var e=$(this),a={body:$(e.data("target")).find(".modal-body"),footer:$(e.data("target")).find(".modal-footer"),content:$(e.data("target")).find(".modal-content")};a.body.empty(),a.footer.empty(),$.ajax({url:e.data("route"),method:"get",beforeSend:function(){a.body.append($.loader("spinner-grow"))},complete:function(){a.body.find(".loader-absolute").remove()},success:function(t){a.content.html($.sanitize($(t.view).find(".modal-content").html()))},error:function(t){t.responseJSON.message&&a.body.prepend($.getAlert("danger",t.responseJSON.message))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@destroy",".destroy",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"delete",beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="destroy"]').loader("show")},complete:function(){a.find('[data-btn-ok-class*="destroy"]').loader("hide")},success:function(t){a.fadeOut("slow")}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@edit",".edit",function(t){t.preventDefault();var e=$(this),a={body:$(e.data("target")).find(".modal-body"),footer:$(e.data("target")).find(".modal-footer"),content:$(e.data("target")).find(".modal-content")};a.body.empty(),a.footer.empty(),$.ajax({url:e.data("route"),method:"get",beforeSend:function(){a.body.append($.loader("spinner-grow"))},complete:function(){a.body.find(".loader-absolute").remove()},success:function(t){a.content.html($.sanitize($(t.view).find(".modal-content").html()))}})}),$(document).on("ready.n1ebieski/icore/admin/scripts/ajax/default@filter",function(){function t(t,e){$.ajax({url:e,method:"get",dataType:"html",beforeSend:function(){$("#filterContent, #filter-content").find(".btn").prop("disabled",!0),$("#filterOrderBy, #filter-orderby").prop("disabled",!0),$("#filterPaginate, #filter-paginate").prop("disabled",!0),t.children("div").append($.loader("spinner-border")),$("#filterModal, #filter-modal").modal("hide")},complete:function(){t.find(".loader-absolute").remove()},success:function(t){$(".modal-backdrop").remove(),$("body").removeClass("modal-open").removeAttr("style"),$("#filterContent, #filter-content").html($.sanitize($(t).find("#filterContent, #filter-content").html())),document.title=document.title.replace(/:\s(\d+)/,": 1"),history.replaceState(null,null,e)}})}$(document).on("change.n1ebieski/icore/admin/scripts/ajax/default@filterOrderBy","#filterOrderBy, #filter-orderby",function(e){e.preventDefault();var a=$("#filter");a.href=a.data("route")+"?"+a.serialize(),t(a,a.href)}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@filterFilter","#filterFilter, #filter-filter",function(e){e.preventDefault();var a=$("#filter");a.href=a.data("route")+"?"+a.serialize(),$("#filter").valid()&&t(a,a.href)}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@filterOption","a.filterOption, a.filter-option",function(e){e.preventDefault();var a=$("#filter");a.href=a.data("route")+"?"+a.find('[name!="'+$.escapeSelector($(this).data("name"))+'"]').serialize(),t(a,a.href)}),$(document).on("change.n1ebieski/icore/admin/scripts/ajax/default@filterPaginate","#filterPaginate, #filter-paginate",function(e){e.preventDefault();var a=$("#filter");a.href=a.data("route")+"?"+a.serialize(),t(a,a.href)})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@show","a.show, button.show",function(t){t.preventDefault();var e=$(this),a={body:$(e.data("target")).find(".modal-body"),footer:$(e.data("target")).find(".modal-footer"),content:$(e.data("target")).find(".modal-content")};a.body.empty(),a.footer.empty(),$.ajax({url:e.data("route"),method:"get",beforeSend:function(){a.body.append($.loader("spinner-grow"))},complete:function(){a.body.find(".loader-absolute").remove()},success:function(t){a.content.html($.sanitize($(t.view).find(".modal-content").html()))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@store",".store",function(t){t.preventDefault();var e=$(this),a=e.closest(".modal-content").find("form:visible");a.btn=a.find(".btn"),a.input=a.find(".form-control"),$.ajax({url:a.data("route"),method:"post",data:new FormData(a[0]),processData:!1,contentType:!1,dataType:"json",beforeSend:function(){e.loader("show"),$(".invalid-feedback").remove(),a.input.removeClass("is-valid"),a.input.removeClass("is-invalid")},complete:function(){e.loader("hide"),a.input.addClass("is-valid")},success:function(t){$(".modal").modal("hide"),window.location.reload()},error:function(t){if(t.responseJSON.errors){var e=0;$.each(t.responseJSON.errors,function(t,n){a.find("#"+$.escapeSelector(t)).length||(t=t.match(/([a-z_\-\.]+)(?:\.([\d]+)|)$/)[1]),a.find("#"+$.escapeSelector(t)).addClass("is-invalid"),a.find("#"+$.escapeSelector(t)).closest(".form-group").append($.getError(t,n)),0===e&&$("#"+$.escapeSelector(t)).length&&a.parent().animate({scrollTop:a.parent().scrollTop()+a.find("#"+$.escapeSelector(t)).closest(".form-group").position().top},1e3),e++})}else t.responseJSON.message&&a.prepend($.getAlert("danger",t.responseJSON.message))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@updatePosition",".updatePosition, .update-position",function(t){t.preventDefault();var e=$(this),a=e.closest(".modal-content").find("form");$.ajax({url:a.data("route"),method:"patch",data:{position:a.find("#position").val()},beforeSend:function(){e.loader("show")},complete:function(){e.loader("hide")},success:function(t){$(".modal").modal("hide"),$.each(t.siblings,function(t,e){var a=$("#row"+t);a.length&&(a.find("#position").text(e+1),a.addClass("alert-primary"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))})}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@updateStatus",".status",function(t){t.preventDefault();var e=$(this),a=e.closest("[id^=row]");$.ajax({url:e.data("route"),method:"patch",data:{status:e.data("status")},beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),e.loader("show")},success:function(t){e.loader("hide"),a.html($.sanitize($(t.view).html())),1==t.status&&(a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3)),0==t.status&&(a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/default@update",".update",function(t){t.preventDefault();var e=$(this),a=e.closest(".modal-content").find("form:visible");a.btn=a.find(".btn"),a.input=a.find(".form-control");var n=new FormData(a[0]);n.append("_method","put"),$.ajax({url:a.data("route"),method:"post",data:n,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){e.loader("show"),a.find(".invalid-feedback").remove(),a.input.removeClass("is-valid"),a.input.removeClass("is-invalid")},complete:function(){e.loader("hide"),a.input.addClass("is-valid")},success:function(t){var e=$("#row"+a.attr("data-id"));e.html($.sanitize($(t.view).html())),e.addClass("alert-primary"),setTimeout(function(){e.removeClassStartingWith("alert-")},5e3),$(".modal").modal("hide")},error:function(t){if(t.responseJSON.errors){var e=0;$.each(t.responseJSON.errors,function(t,n){a.find("#"+$.escapeSelector(t)).length||(t=t.match(/([a-z_\-\.]+)(?:\.([\d]+)|)$/)[1]),a.find("#"+$.escapeSelector(t)).addClass("is-invalid"),a.find("#"+$.escapeSelector(t)).closest(".form-group").append($.getError(t,n)),0===e&&$("#"+$.escapeSelector(t)).length&&a.parent().animate({scrollTop:a.parent().scrollTop()+a.find("#"+$.escapeSelector(t)).closest(".form-group").position().top},1e3),e++})}else t.responseJSON.message&&a.prepend($.getAlert("danger",t.responseJSON.message))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/mailing@reset","a.resetMailing, a.reset-mailing",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"delete",beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="resetMailing"], [data-btn-ok-class*="reset-mailing"]').loader("show")},complete:function(){a.find('[data-btn-ok-class*="resetMailing"], [data-btn-ok-class*="reset-mailing"]').loader("hide")},success:function(t){a.html($.sanitize($(t.view).html())),a.addClass("alert-danger"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3)}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/page@destroy",".destroyPage, .destroy-page",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"delete",beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="destroyPage"], [data-btn-ok-class*="destroy-page"]').loader("show")},complete:function(){a.find('[data-btn-ok-class*="destroyPage"], [data-btn-ok-class*="destroy-page"]').loader("hide")},success:function(t){a.fadeOut("slow"),$.each(t.descendants,function(t,e){var a=$("#row"+e);a.length&&a.fadeOut("slow")})}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/page@updateStatus",".statusPage, .status-page",function(t){t.preventDefault();var e=$(this),a=e.closest("[id^=row]");a.btnGroup=a.find(".responsive-btn-group"),a.btn0=a.find('button[data-status="0"]'),a.btn1=a.find('button[data-status="1"]'),$.ajax({url:e.data("route"),method:"patch",data:{status:e.data("status")},beforeSend:function(){a.btnGroup.addClass("disabled"),e.loader("show")},success:function(t){e.loader("hide"),1==t.status&&(a.btnGroup.removeClass("disabled"),a.btn1.prop("disabled",!0),a.btn0.prop("disabled",!1),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$.each(t.ancestors,function(t,e){var a=$("#row"+e);a.length&&(a.find('button[data-status="1"]').prop("disabled",!0),a.find('button[data-status="0"]').prop("disabled",!1),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))})),0==t.status&&(a.btnGroup.removeClass("disabled"),a.btn0.prop("disabled",!0),a.btn1.prop("disabled",!1),a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$.each(t.descendants,function(t,e){var a=$("#row"+e);a.length&&(a.find('button[data-status="0"]').prop("disabled",!0),a.find('button[data-status="1"]').prop("disabled",!1),a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))}))}})}),$(document).on("click.n1ebieski/icore/admin/scripts/ajax/page@clear",".clearReport, .clear-report",function(t){t.preventDefault();var e=$(this);$.ajax({url:e.data("route"),method:"delete",beforeSend:function(){e.loader("show")},complete:function(){e.loader("hide")},success:function(t){var a=$("#row"+e.attr("data-id"));a.html($.sanitize($(t.view).html())),a.addClass("alert-primary"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3),$(".modal").modal("hide")}})}),function(t){t.fn.chart=function(t){return new Chart(this,t)},t.fn.serializeObject=function(){var e=this,a={},n={},i={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};return this.build=function(t,e,a){return t[e]=a,t},this.push_counter=function(t){return void 0===n[t]&&(n[t]=0),n[t]++},t.each(t(this).serializeArray(),function(){if(i.validate.test(this.name)){for(var n,o=this.name.match(i.key),r=this.value,s=this.name;void 0!==(n=o.pop());)s=s.replace(new RegExp("\\["+n+"\\]$"),""),n.match(i.push)?r=e.build([],e.push_counter(s),r):n.match(i.fixed)?r=e.build([],n,r):n.match(i.named)&&(r=e.build({},n,r));a=t.extend(!0,a,r)}}),a},t.fn.autoHeight=function(e){function a(e){return e.offsetHeight<e.scrollHeight?t(e).css({height:"auto"}).height(e.scrollHeight):t(e)}if(!1!==("boolean"!=typeof e.autogrow||e.autogrow))return this.each(function(){a(this).on("input",function(){a(this)})})},t.fn.removeClassStartingWith=function(t){this.removeClass(function(e,a){return(a.match(new RegExp("\\b"+t+"\\S+","g"))||[]).join(" ")})},t.fn.focusWithoutScrolling=function(){var t=window.scrollX,e=window.scrollY;this.focus(),window.scrollTo(t,e)},t.sanitize=function(e){var a=t(t.parseHTML("<div>"+e+"</div>",null,!1));return a.find("*").each(function(e,a){t.each(a.attributes,function(){var e=this.name,n=this.value;0!=e.indexOf("on")&&0!=n.indexOf("javascript:")||t(a).removeAttr(e)})}),a.html()},t.getUrlParameter=function(t,e){return(RegExp(e+"=(.+?)(&|$)").exec(t)||[,null])[1]},t.fn.loader=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spinner-border";if("show"==e){t(this).parent().find("button").prop("disabled",!0),t(this).find("i").hide();var n=!t(this).is('[class*="btn-outline-"]')||void 0!==t.cookie("theme_toggle")&&"light"!==t.cookie("theme_toggle")?"text-light":"text-dark";t(this).prepend(t.sanitize('<span class="'+a+" "+a+"-sm "+n+'" role="status" aria-hidden="true"></span>'))}"hide"==e&&(t(this).parent().find("button").prop("disabled",!1),t(this).find("i").show(),t(this).find('[role="status"]').remove())},t.loader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spinner-border",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loader-absolute";return t.sanitize('<div class="'+a+'"><div class="'+e+'"><span class="sr-only">Loading...</span></div></div>')},t.getAlert=function(e,a){return t.sanitize('<div class="alert alert-'+e+' alert-time" role="alert">'+a+"</div>")},t.getError=function(e,a){return t.sanitize('<span class="invalid-feedback d-block font-weight-bold" id="error-'+e+'">'+a+"</span>")}}(jQuery),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/bootstrap-confirmation@init",function(){$("[data-toggle=confirmation]").each(function(){var t=$(this);t.confirmation({rootSelector:"[data-toggle=confirmation]",copyAttributes:"href data-route data-id",singleton:!0,popout:!0,onConfirm:function(){t.hasClass("submit")&&t.parents("form:first").submit()}})})}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/bootstrap-select/category@init",function(){$("select.select-picker-category").each(function(){var t=$(this);!0!==t.data("loaded")&&(t.selectpicker().on("changed.bs.select",function(){t.next("button").find(".filter-option-inner-inner > small").remove()}).on("shown.bs.select",function(){t.parent().find(".dropdown-menu").find('input[type="search"]').attr("name","search")}).trigger("change"),!0===t.data("abs")&&(t.ajaxSelectPicker({ajax:{data:function(){return{filter:{search:"{{{q}}}",orderby:"real_depth|desc",except:t.data("abs-filter-except")||null,status:1}}}},preprocessData:function(e){var a=[],n=t.data("abs-max-options-length")||e.data.length,i=t.data("abs-default-options")||[];return $.each(i,function(t,e){a.push({value:e.value,text:e.text})}),$.each(e.data,function(e,i){if(e>=n)return!1;a.push({value:t.data("abs-value-attr")?i[t.data("abs-value-attr")]:i.id,text:t.data("abs-text-attr")?i[t.data("abs-text-attr")]:i.name,data:{content:i.ancestors.length?'<small class="p-0 m-0">'+i.ancestors.map(function(t){return t.name}).join(" &raquo; ")+" &raquo; </small>"+i.name:null}})}),a},minLength:3,preserveSelected:"boolean"!=typeof t.data("abs-preserve-selected")||t.data("abs-preserve-selected"),preserveSelectedPosition:t.data("abs-preserve-selected-position")||"before",langCode:t.data("abs-lang-code")||null}),t.trigger("change").data("AjaxBootstrapSelect").list.cache={}),t.parent().addClass("input-group"),t.attr("data-loaded",!0))})}),jQuery(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/bootstrap-select/default@init",function(){$("select.select-picker").each(function(){var t=$(this);!0!==t.data("loaded")&&(t.selectpicker().on("changed.bs.select",function(){t.next("button").find(".filter-option-inner-inner > small").remove()}).on("shown.bs.select",function(){t.parent().find(".dropdown-menu").find('input[type="search"]').attr("name","search")}).trigger("change"),!0===t.data("abs")&&(t.ajaxSelectPicker({ajax:{data:function(){return{filter:{search:"{{{q}}}",except:t.data("abs-filter-except")||null,status:1}}}},preprocessData:function(e){var a=[],n=t.data("abs-max-options-length")||e.data.length,i=t.data("abs-default-options")||[];return $.each(i,function(t,e){a.push({value:e.value,text:e.text})}),$.each(e.data,function(e,i){if(e>=n)return!1;a.push({value:t.data("abs-value-attr")?i[t.data("abs-value-attr")]:i.id,text:t.data("abs-text-attr")?i[t.data("abs-text-attr")]:i.name})}),a},minLength:3,preserveSelected:"boolean"!=typeof t.data("abs-preserve-selected")||t.data("abs-preserve-selected"),preserveSelectedPosition:t.data("abs-preserve-selected-position")||"before",langCode:t.data("abs-lang-code")||null}),t.trigger("change").data("AjaxBootstrapSelect").list.cache={}),t.parent().addClass("input-group"),t.attr("data-loaded",!0))})}),$(document).on("ready.n1ebieski/icore/admin/scripts/plugins/chart/post@countByDate",function(){var t=$("#count-posts-and-pages-by-date");if(t.length){t.dataset=JSON.parse(t.attr("data"));var e=_toConsumableArray(new Map(t.dataset.map(function(t){return["".concat(t.month,".").concat(t.year),t]})).values()),a=_toConsumableArray(new Map(t.dataset.map(function(t){return[t.type.value,t]})).values()),n=0;if(t.chart({type:"bar",data:{datasets:[{label:t.data("all-label"),type:"line",backgroundColor:"rgb(0, 123, 255)",borderColor:"rgb(0, 123, 255)",borderWidth:1,data:e.map(function(e){return{x:"".concat(e.month,".").concat(e.year),y:t.dataset.filter(function(t){return t.month===e.month&&t.year===e.year}).reduce(function(t,e){return n=t+e.count},n)}})}].concat(a.map(function(a){return{label:a.type.label,data:e.map(function(e){var n;return(null===(n=t.dataset.find(function(t){return t.month===e.month&&t.year===e.year&&t.type.value===a.type.value}))||void 0===n?void 0:n.count)||0}),backgroundColor:a.color,borderColor:a.color,borderWidth:1}}))},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0,title:{color:t.data("font-color")||"#666",display:!0,text:t.data("x-label")},ticks:{color:t.data("font-color")||"#666"}},y:{stacked:!0,title:{color:t.data("font-color")||"#666",display:!0,text:t.data("y-label")},ticks:{color:t.data("font-color")||"#666"}}},plugins:{legend:{labels:{color:t.data("font-color")||"#666"}},title:{display:!0,text:t.data("label"),color:t.data("font-color")||"#666",font:{size:14}}}}}),e.length>15){var i=50*e.length;t.parent().css("width",i),t.parents().eq(1).scrollLeft(i)}}}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/infinite-scroll@init",function(){var t=$("#infinite-scroll");t.jscroll({debug:!1,autoTrigger:1==t.data("autotrigger"),data:function(){var t=$("#filter").serializeObject().filter||{};if(t.except=$(this).find("[id^=row]").map(function(){return $(this).attr("data-id")}).get(),t.except.length)return{filter:t}},loadingHtml:$.loader("spinner-border","loader"),loadingFunction:function(){$("#is-pagination").first().remove()},padding:0,nextSelector:"a#is-next:last",contentSelector:"#infinite-scroll",pagingSelector:".pagination",callback:function(t){var e=t.split(" ")[0];history.replaceState(null,null,e)}})}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/jquery-lazy@init",function(){$(".lazy").lazy({effect:"fadeIn",effectTime:"fast",threshold:0})}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/magnific-popup@init",function(){var t=$(".lightbox");if(t.length){var e=t.map(function(){return $(this).data("gallery")}).get().filter(function(t,e,a){return e==a.indexOf(t)});$.each(e,function(t,e){$("[data-gallery="+$.escapeSelector(e)+"]").magnificPopup({type:"image",gallery:{enabled:!0}})})}}),$(document).on("ready.n1ebieski/icore/admin/scripts/plugins/pickadate@init",function(){"pl"===$(".datepicker, .timepicker").data("lang")&&($.extend($.fn.pickadate.defaults,{monthsFull:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],monthsShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],weekdaysFull:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],weekdaysShort:["niedz.","pn.","wt.","śr.","cz.","pt.","sob."],today:"Dzisiaj",clear:"Usuń",close:"Zamknij",firstDay:1,format:"d mmmm yyyy",formatSubmit:"yyyy/mm/dd"}),$.extend($.fn.pickatime.defaults,{clear:"usunąć"})),$("form#createPost .datepicker, form#editFullPost .datepicker, form#create-post .datepicker, form#editfull-post .datepicker").pickadate({clear:"",formatSubmit:"yyyy-m-dd",hiddenName:!0}),$("form#createMailing .datepicker, form#editMailing .datepicker, form#create-mailing .datepicker, form#edit-mailing .datepicker").pickadate({clear:"",formatSubmit:"yyyy-m-dd",hiddenName:!0,min:new Date}),$(".timepicker").pickatime({clear:"",format:"H:i",formatSubmit:"HH:i",hiddenName:!0})}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/tagsinput@init",function(){$(".tagsinput").each(function(){var t=$(this);t.parent().find('[id$="_tagsinput"]').length||t.tagsInput({placeholder:t.attr("placeholder"),minChars:3,maxChars:t.data("max-chars")||30,limit:t.data("max"),validationPattern:new RegExp("^(?:^[a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ0-9à-ü ]+$)$"),unique:!0})})}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/plugins/trumbowyg@init",function(){if(!$(".trumbowyg-box").length){var t=$("#content_html_trumbowyg");t.trumbowyg({lang:t.data("lang"),fixedBtnPane:t.data("fixed-btn-pane")||!0,fixedFullWidth:t.data("fixed-full-width")||!1,svgPath:!1,hideButtonTexts:!0,tagsToRemove:["script"],autogrow:!0,btnsDef:{more:{fn:function(){t.trumbowyg("execCmd",{cmd:"insertHtml",param:"<p>[more]</p>",forceCss:!1})},title:'Button "show more"',ico:"more"}},btns:[["viewHTML"],["historyUndo","historyRedo"],["formatting"],["foreColor","backColor"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["more"],["fullscreen"]]}),t.on("tbwmodalopen",function(){var t=$("div.trumbowyg-modal-box");t.input=t.find("input[name=url]"),t.input.length&&t.find("input[name=alt]").length&&(t.input.css({position:"initial",width:"50px",flex:"auto",order:"1"}),t.input.wrap('<div style="position:absolute;top:0;right:0;width:70%;max-width:330px;"><div class="input-group" style="display:flex;">'),t.input.after('<div class="input-group-append" style="order:2;"><button class="btn btn-primary px-2 py-0" type="button" id="filemanager" style="height:27px;"><i class="far fa-image"></i></button></div>'))}),t.on("tbwopenfullscreen",function(){$(".trumbowyg-fullscreen .trumbowyg-editor").css({cssText:"height: calc(100% - ".concat($(".trumbowyg-button-pane").height(),"px) !important")})}),$(document).on("click.n1ebieski/icore/admin/scripts/plugins/trumbowyg@fileManager","button#filemanager",function(t){t.preventDefault(),window.open("/admin/file-manager/fm-button","fm","resizable=yes,status=no,scrollbars=yes,toolbar=no,menubar=no,width=1366,height=768")})}}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/view/alerts@init",function(){$(".alert-time").delay(2e4).fadeOut()}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/view/bootstrap_tooltips@init",function(){$('[data-toggle="tooltip"]').tooltip()}),$(document).on("change.n1ebieski/icore/admin/scripts/view/collapse@publishedAt",'[aria-controls="collapse-published-at"]',function(){0==$(this).val()?$("#collapse-published-at").collapse("hide"):$("#collapse-published-at").collapse("show")}),$(document).on("change.n1ebieski/icore/admin/scripts/view/collapse@activationAt",'[aria-controls="collapse-activation-at"]',function(){2==$(this).val()?$("#collapse-activation-at").collapse("show"):$("#collapse-activation-at").collapse("hide")}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/view/counter@init",function(){$(".counter").each(function(){var t=$(this);t.name=$.escapeSelector(t.data("name")),t.min=void 0!==t.data("min")&&Number.isInteger(t.data("min"))?t.data("min"):null,t.max=void 0!==t.data("max")&&Number.isInteger(t.data("max"))?t.data("max"):null;var e=function(){var e=[$('[name="'+t.name+'"]'),$('[name="'+t.name+'"]').hasClass("trumbowyg-textarea")?$('[name="'+t.name+'"]').parent().find(".trumbowyg-editor"):null];$.each(e.filter(function(t){return null!=t}),function(){$(this).on("keyup",function(){var e=$(this).attr("contenteditable")?parseFloat($(this).text().length):parseFloat($($.parseHTML($(this).val())).text().length);t.firstchild=t.children(":first"),t.firstchild.text(e),0===e?t.firstchild.removeClass():(t.firstchild.addClass("text-success"),t.firstchild.removeClass("text-danger"),(null!==t.min&&e<t.min||null!==t.max&&e>t.max)&&(t.firstchild.addClass("text-danger"),t.firstchild.removeClass("text-success")))})})};-1!==$('[name="'+t.name+'"]').attr("id").indexOf("trumbowyg")?$("#"+$('[name="'+t.name+'"]').attr("id")).on("tbwinit",function(){return e()}):e()})}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/view/custom-file-input@init",function(){$(".custom-file-input").each(function(){$(this).on("change",function(){for(var t=[],e=0;e<$(this)[0].files.length;e++)t.push($(this)[0].files[e].name);$(this).siblings(".custom-file-label").addClass("selected").html(t.join(", "))})})}),$(document).on("change.n1ebieski/icore/admin/scripts/view/delete_img@disable","form input[id^=delete_img]",function(){var t=$(this).closest(".form-group").find('[type="file"]'),e=$(this).closest(".form-group").find('[type="hidden"]');!0===$(this).prop("checked")?(t.prop("disabled",!1),e.prop("disabled",!0)):(t.prop("disabled",!0),e.prop("disabled",!1))}),$(document).on("click.n1ebieski/icore/admin/scripts/view/list_checkbox@selectAll","#selectAll, #select-all",function(){$("#selectForm .select, #select-form .select").prop("checked",$(this).prop("checked")).trigger("change")}),$(document).on("change.n1ebieski/icore/admin/scripts/view/list_checkbox@select","#selectForm .select, #select-form .select",function(){$("#selectForm .select:checked, #select-form .select:checked").length>0?$(".select-action").fadeIn():$(".select-action").fadeOut()}),$(document).on("ready.n1ebieski/icore/admin/scripts/view/navbar@init",function(){var t=$(window).scrollTop(),e=0,a=$(".navbar");!1!==a.data("autohide")&&$(window).on("scroll",function(){if(!$("body").hasClass("modal-open")){if("fixed"===$(".trumbowyg-button-pane").css("position"))return void a.fadeOut();var n=$(window).scrollTop(),i=a.height()+10;t<(e=n)&&t>i?a.fadeOut():a.fadeIn(),t=e}})}),$(document).on("scroll.n1ebieski/icore/admin/scripts/view/scroll_to_top@init",function(){$(this).scrollTop()>100?$(".scroll-to-top").fadeIn():$(".scroll-to-top").fadeOut()}),$(document).on("click.n1ebieski/icore/admin/scripts/view/scroll_to_top@scroll","a.scroll-to-top",function(t){$("html, body").stop().animate({scrollTop:0},1e3,"easeInOutExpo"),t.preventDefault()}),$(document).on("click.n1ebieski/icore/admin/scripts/view/sidebar@init",".modal-backdrop, #sidebar-toggle",function(t){t.preventDefault(),window.innerWidth>=768?($(".sidebar").toggleClass("toggled"),$("ul.sidebar").hasClass("toggled")?$.cookie("sidebar_toggle",1,{path:"/admin"}):$.cookie("sidebar_toggle",0,{path:"/admin"})):($(".sidebar").removeClass("toggled"),$(".modal-backdrop").length?($(".modal-backdrop").fadeOut("slow",function(){$(this).remove()}),$(".sidebar").removeClass("show"),$("body").removeClass("modal-open")):($('<div class="modal-backdrop show z-900"></div>').appendTo("body").hide().fadeIn(),$(".sidebar").addClass("show"),$("body").addClass("modal-open")))}),$(document).on("readyAndAjax.n1ebieski/icore/admin/scripts/view/textarea@init",function(){$("textarea").each(function(){$(this).autoHeight({autogrow:$(this).data("autogrow")})})}),$(document).on("click.n1ebieski/icore/admin/scripts/view/theme@toggle","div#themeToggle button, div#theme-toggle button",function(t){t.preventDefault();var e=$(this);e.hasClass("btn-light")&&$.cookie("theme_toggle","light",{path:"/",expires:365}),e.hasClass("btn-dark")&&$.cookie("theme_toggle","dark",{path:"/",expires:365}),window.location.reload()}),$(document).on("click.n1ebieski/idir/admin/scripts/ajax/dir@delay",".delayDir, .delay-dir",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"patch",data:{delay:e.closest(".popover-body").find("#delay").val()},beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="delayDir"], [data-btn-ok-class*="delay-dir"]').loader("show")},complete:function(){a.find(".responsive-btn-group").removeClass("disabled"),a.find('[data-btn-ok-class*="delayDir"], [data-btn-ok-class*="delay-dir"]').loader("hide")},success:function(t){a.html($.sanitize($(t.view).html())),a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3)}})}),$(document).on("click.n1ebieski/idir/admin/scripts/ajax/dir@destroy","a.destroyDir, a.destroy-dir",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),data:{reason:e.closest(".popover-body").find("#reason").val()},method:"delete",beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-btn-ok-class*="destroyDir"], [data-btn-ok-class*="destroy-dir"]').loader("show")},complete:function(){a.find('[data-btn-ok-class*="destroyDir"], [data-btn-ok-class*="destroy-dir"]').loader("hide")},success:function(){a.fadeOut("slow")}})}),$(document).on("click.n1ebieski/idir/admin/scripts/ajax/dir@updateStatus",".statusDir, .status-dir",function(t){t.preventDefault();var e=$(this),a=$("#row"+e.data("id"));$.ajax({url:e.data("route"),method:"patch",data:{status:e.data("status"),reason:e.closest(".popover-body").find("#reason").val()},beforeSend:function(){a.find(".responsive-btn-group").addClass("disabled"),a.find('[data-status="'+e.data("status")+'"]').loader("show")},success:function(t){a.find('[data-status="'+e.data("status")+'"]').loader("hide"),a.html($.sanitize($(t.view).html())),1==t.status&&(a.addClass("alert-success"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3)),$.inArray(t.status,[0,5])>-1&&(a.addClass("alert-warning"),setTimeout(function(){a.removeClassStartingWith("alert-")},5e3))}})}),$(document).on("click.n1ebieski/idir/admin/scripts/ajax/field@gus","#searchGus .btn, #search-gus .btn",function(t){t.preventDefault();var e=$("#searchGus, #search-gus");e.form=e.closest("form"),e.url=e.data("route"),e.btn=e.find(".btn"),e.input=e.find("input"),$.ajax({url:e.url,data:{type:e.find("select#type").val(),number:e.find("input#number").val()},method:"post",dataType:"json",beforeSend:function(){e.btn.loader("show"),e.find(".invalid-feedback").remove(),e.input.removeClass("is-valid"),e.input.removeClass("is-invalid")},complete:function(){e.btn.loader("hide")},success:function(t){$.each(t.data,function(t,a){var n=e.form.find("#"+$.escapeSelector(t));void 0!==n&&(n.val($.sanitize(a)),n.children("#map-select").length&&($("#remove-marker").trigger("click"),$("#add-marker").trigger("click",[null,$.sanitize(a)])))})},error:function(t){var a=t.responseJSON;$.each(a.errors,function(t,a){e.input.addClass("is-invalid"),e.input.parent().after($.getError(t,a))})}})}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/ajax/field@enter",function(){$("#searchGus input, #search-gus input").on("keypress",function(t){if(13==t.which)return $("#searchGus .btn, #search-gus .btn").trigger("click"),!1})}),$(document).on("click.n1ebieski/idir/admin/scripts/ajax/thumbnail@reload","a.reloadThumbnail, a.reload-thumbnail",function(t){t.preventDefault();var e=$(this);e.thumbnail=e.parent().children(".thumbnail"),e.thumbnail.img=e.thumbnail.children("img"),$.ajax({url:e.data("route"),method:"patch",beforeSend:function(){e.prop("disabled",!0),e.thumbnail.append($.loader("spinner-border"))},complete:function(){e.prop("disabled",!1),e.thumbnail.find(".loader-absolute").remove()},success:function(t){e.thumbnail.img.attr("src",t.thumbnail_url+"&reload="+Math.random())}})}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation@init",function(){$('[data-toggle^="dir-confirmation"]').each(function(){var t=$(this);t.confirmation({rootSelector:'[data-toggle^="dir-confirmation"]',copyAttributes:"href data-route data-status data-id data-delays data-delays-label data-delays-custom data-reasons data-reasons-label data-reasons-custom",singleton:!0,popout:!1,onConfirm:function(){t.hasClass("submit")&&t.parents("form:first").submit()}})})}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation/dir@delay",function(){$("[data-toggle=dir-confirmation-delay]").on("inserted.bs.confirmation",function(){var t=$('[id^="confirmation"] .popover-body').last();t.p=t.find("p.confirmation-content"),t.btn=t.find("a.btn.btn-primary");var e=$($.parseHTML('<div><div class="form-group"><label for="delay">'+t.btn.data("delays-label")+':</label><select id="delay" class="form-control custom-select"></select></div></div>'));e.delay=e.find("select#delay"),$.each(t.btn.data("delays"),function(t,a){e.delay.append('<option value="'+a+'">'+a+"</option>")}),e.delay.append('<option value="custom">'+t.btn.data("delays-custom")+"...</option>"),t.p.html($.sanitize(e.html())).show()})}),$(document).on("change.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation/dir@customDelay",'[id^="confirmation"] .popover-body select#delay',function(){"custom"===$(this).val()&&$(this).replaceWith('<input type="text" id="delay" class="form-control">')}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation/dir@reason",function(){$("[data-toggle=dir-confirmation-reason]").on("inserted.bs.confirmation",function(){var t=$('[id^="confirmation"] .popover-body').last();t.p=t.find("p.confirmation-content"),t.btn=t.find("a.btn.btn-primary");var e=$($.parseHTML('<div><div class="form-group"><select id="reason" class="form-control custom-select"><option value="">'+t.btn.data("reasons-label")+":</option></select></div></div>"));e.reason=e.find("select#reason"),$.each(t.btn.data("reasons"),function(t,a){e.reason.append('<option value="'+a+'">'+a+"</option>")}),e.reason.append('<option value="custom">'+t.btn.data("reasons-custom")+"...</option>"),t.p.html($.sanitize(e.html())).show()})}),$(document).on("change.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation/dir@customReason",'[id^="confirmation"] .popover-body select#reason',function(){"custom"===$(this).val()&&$(this).replaceWith('<input type="text" id="reason" class="form-control">')}),$(document).on("ready.n1ebieski/idir/admin/scripts/plugins/chart/dir@countByDateAndGroup",function(){var t=$("#count-dirs-by-date-and-group");if(t.length){t.dataset=JSON.parse(t.attr("data"));var e=_toConsumableArray(new Map(t.dataset.map(function(t){return["".concat(t.month,".").concat(t.year),t]})).values()),a=_toConsumableArray(new Map(t.dataset.map(function(t){return[t.group.id,t]})).values()),n=0;if(t.chart({type:"bar",data:{datasets:[{label:t.data("all-label"),type:"line",backgroundColor:"rgb(0, 123, 255)",borderColor:"rgb(0, 123, 255)",borderWidth:1,data:e.map(function(e){return{x:"".concat(e.month,".").concat(e.year),y:t.dataset.filter(function(t){return t.month===e.month&&t.year===e.year}).reduce(function(t,e){return n=t+e.count},n)}})}].concat(a.map(function(a){return{label:a.group.name,data:e.map(function(e){var n;return(null===(n=t.dataset.find(function(t){return t.month===e.month&&t.year===e.year&&t.group.id===a.group.id}))||void 0===n?void 0:n.count)||0}),backgroundColor:a.color,borderColor:a.color,borderWidth:1}}))},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0,title:{color:t.data("font-color")||"#666",display:!0,text:t.data("x-label")},ticks:{color:t.data("font-color")||"#666"}},y:{stacked:!0,title:{color:t.data("font-color")||"#666",display:!0,text:t.data("y-label")},ticks:{color:t.data("font-color")||"#666"}}},plugins:{legend:{labels:{color:t.data("font-color")||"#666"}},title:{display:!0,text:t.data("label"),color:t.data("font-color")||"#666",font:{size:14}}}}}),e.length>15){var i=50*e.length;t.parent().css("width",i),t.parents().eq(1).scrollLeft(i)}}}),$(document).on("ready.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation/dir@countByGroup",function(){var t=$("#count-dirs-by-group");t.length&&(t.dataset=JSON.parse(t.attr("data")),t.chart({type:"pie",data:{labels:t.dataset.map(function(t){return t.group.name}),datasets:[{label:t.data("label"),data:t.dataset.map(function(t){return t.count}),links:t.dataset.map(function(t){return t.links.admin}),backgroundColor:t.dataset.map(function(t){return t.color}),borderColor:t.dataset.map(function(t){return t.color}),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:t.data("label"),color:t.data("font-color")||"#666",font:{size:14}},legend:{labels:{color:t.data("font-color")||"#666",generateLabels:function(t){var e=t.data.datasets;return e[0].data.map(function(a,n){return{text:"".concat(t.data.labels[n]," (").concat(a,")"),fillStyle:e[0].backgroundColor[n],strokeStyle:e[0].borderColor[n],hidden:!t.getDataVisibility(n),index:n}})}}}},onClick:function(t,e){if(e.length){var a=e[0];window.location.href=this.data.datasets[a.datasetIndex].links[a.index]}}}}))}),$(document).on("ready.n1ebieski/idir/admin/scripts/plugins/bootstrap-confirmation/dir@countByStatus",function(){var t=$("#count-dirs-by-status");t.length&&(t.dataset=JSON.parse(t.attr("data")),t.chart({type:"pie",data:{labels:t.dataset.map(function(t){return t.status.label}),datasets:[{label:t.data("label"),data:t.dataset.map(function(t){return t.count}),links:t.dataset.map(function(t){return t.links.admin}),backgroundColor:t.dataset.map(function(t){return t.color}),borderColor:t.dataset.map(function(t){return t.color}),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:t.data("label"),color:t.data("font-color")||"#666",font:{size:14}},legend:{labels:{color:t.data("font-color")||"#666",generateLabels:function(t){var e=t.data.datasets;return e[0].data.map(function(a,n){return{text:"".concat(t.data.labels[n]," (").concat(a,")"),fillStyle:e[0].backgroundColor[n],strokeStyle:e[0].borderColor[n],hidden:!t.getDataVisibility(n),index:n}})}}}},onClick:function(t,e){if(e.length){var a=e[0];window.location.href=this.data.datasets[a.datasetIndex].links[a.index]}}}}))}),$(document).on("ready.n1ebieski/idir/admin/scripts/plugins/jquery-googlemap@init",function(){var t=$("#map");t.length&&(t.data=t.data(),void 0!==t.data.coordsMarker&&t.data.coordsMarker.length&&(t.html().length||t.googleMap({zoom:parseInt(t.data.zoom),scrollwheel:!0,type:"ROADMAP"}).addClass(t.data.containerClass),$.each(t.data.coordsMarker,function(e,a){t.addMarker({coords:a})})))}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/plugins/jquery-googlemap@initSelect",function(){var t=$("#map-select");t.length&&(t.data=t.data(),t.html().length||(t.googleMap({zoom:t.data.zoom,coords:t.data.coords,scrollwheel:!0,type:"ROADMAP"}).addClass(t.attr("data-container-class")),t.siblings('[id^="marker"]').each(function(e,a){var n=$(a);(n={lat:n.find('input[id$="lat"]'),long:n.find('input[id$="long"]')}).lat.val().length&&n.long.val().length&&t.addMarker({coords:[n.lat.val(),n.long.val()],id:"marker"+e,draggable:!0,success:function(t){n.lat.val(t.lat),n.long.val(t.lon)}})})))}),$(document).on("click.n1ebieski/idir/admin/scripts/plugins/jquery-googlemap@remove","#remove-marker",function(t){t.preventDefault();var e=$("#map-select");e.removeMarker("marker0"),e.siblings("#marker0").find('input[id$="lat"]').val(null),e.siblings("#marker0").find('input[id$="long"]').val(null),$("#add-marker").show(),$(this).hide()}),$(document).on("click.n1ebieski/idir/admin/scripts/plugins/jquery-googlemap@add","#add-marker",function(t,e,a){t.preventDefault();var n=$("#map-select");a||e||(e=n.data("coords")),n.addMarker({coords:e||null,address:a||null,draggable:!0,id:"marker0",success:function(t){n.siblings("#marker0").find('input[id$="lat"]').val(t.lat),n.siblings("#marker0").find('input[id$="long"]').val(t.lon)}}),$("#remove-marker").show(),$(this).hide()}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/plugins/trumbowyg@init",function(){if(!$(".trumbowyg-box").length){var t=$("#content_html_dir_trumbowyg");t.trumbowyg({lang:t.data("lang"),fixedBtnPane:t.data("fixed-btn-pane")||!0,fixedFullWidth:t.data("fixed-full-width")||!1,svgPath:!1,hideButtonTexts:!0,tagsToRemove:["script"],autogrow:!0,btnsDef:{},btns:[["viewHTML"],["historyUndo","historyRedo"],["formatting"],["foreColor","backColor"],["strong","em","del"],["unorderedList","orderedList"],["removeformat"],["fullscreen"]]}),t.on("tbwopenfullscreen",function(){$(".trumbowyg-fullscreen .trumbowyg-editor").css({cssText:"height: calc(100% - ".concat($(".trumbowyg-button-pane").height(),"px) !important")})})}}),$(document).on("change.n1ebieski/idir/admin/scripts/view/dir@toggleCodeSms","select#payment_code_sms",function(){var t=JSON.parse($(this).find("option:selected").attr("data"));$("div#nav-code_sms p span#number").text(t.number),$("div#nav-code_sms p span#code_sms").text(t.code),$("div#nav-code_sms p span#price").text(t.price),$("div#nav-code_sms div#qr_image").html($.sanitize(t.qr_as_image))}),$(document).on("change.n1ebieski/idir/admin/scripts/view/dir@toggleCodeTransfer","select#payment_code_transfer",function(){var t=JSON.parse($(this).find("option:selected").attr("data"));$("div#nav-code_transfer p a#code_transfer").attr("href",function(){return $(this).attr("href").replace(/=(.*)/,"="+t.code).trim()}),$("div#nav-code_transfer p span#price").text(t.price)}),$(document).on("change.n1ebieski/idir/admin/scripts/view/dir@toggleBacklink","select#backlink",function(){var t=JSON.parse($(this).find("option:selected").attr("data")),e='<a href="'+t.url+'" title="'+t.name+'">';null!==t.img_url_from_storage?e+='<img src="'+t.img_url_from_storage+'" alt="'+t.name+'">':e+=t.name,e+="</a>",$("#backlink_code").val($.sanitize(e)),$("#backlink_preview").html($.sanitize(e))}),$(document).on("click.n1ebieski/idir/admin/scripts/view/dir@checkContent",".checkContent, .check-content",function(t){t.preventDefault();var e,a=$(this).parent().find('[id^="content"]').text().split(".").filter(function(t){return t}),n=0,i="";for(e=0;e<50;e++)if(0===n&&(n=Math.floor(Math.random()*a.length)),void 0!==a[n]?(i+=a[n].trim()+". ",n++):(i="",n=0),i.length>150){window.open("http://www.google.pl/search?hl=pl&q="+encodeURI(i),"checkContent","resizable=yes,status=no,scrollbars=yes,toolbar=no,menubar=no,width=1366,height=768").focus();break}return!1}),$(document).on("readyAndAjax.n1ebieski/idir/admin/scripts/view/popover@init",function(){$(".thumbnail").popover({trigger:"hover",boundary:"window",html:!0,content:function(){return $.sanitize($(this).html())},placement:"auto"}).on("inserted.bs.popover",function(){var t=$('[id^="popover"]');t.img=$('[id^="popover"]').find("img"),t.addClass("thumbnail"),t.img.prop("width",$(this).find("img").prop("naturalWidth")),t.img.prop("height",$(this).find("img").prop("naturalHeight"))})}),$(document).on("change.n1ebieski/idir/admin/scripts/view/price@readonlyCodes",'div[id^=nav-code] input[id*="sync"]',function(){var t=$(this).closest(".input-group").find('textarea[id*="codes"]');!0===$(this).prop("checked")?t.prop("readonly",!1):t.prop("readonly",!0)}),$(document).on("change.n1ebieski/idir/admin/scripts/view/price@discountPrice","#discount_price",function(){var t=parseFloat($(this).val()),e=parseFloat($(this).closest("form").find("#price").val());$.isNumeric(t)&&$.isNumeric(e)&&t<e&&$(this).closest("form").find("#discount").val(Math.floor((e-t)/e*100))}),$(document).on("change.n1ebieski/idir/admin/scripts/view/price@discount","#discount",function(){var t=parseFloat($(this).val()),e=parseFloat($(this).closest("form").find("#price").val());$.isNumeric(t)&&t>0&&t<100&&$(this).closest("form").find("#discount_price").val((e*(100-t)/100).toFixed(2))}),$(document).on("change.n1ebieski/idir/admin/scripts/view/price@price","#price",function(){var t=parseFloat($(this).val()),e=parseFloat($(this).closest("form").find("#discount_price").val()),a=parseFloat($(this).closest("form").find("#discount").val());$.isNumeric(t)&&($.isNumeric(e)||$.isNumeric(a))&&$(this).closest("form").find("#discount_price").trigger("change")});
